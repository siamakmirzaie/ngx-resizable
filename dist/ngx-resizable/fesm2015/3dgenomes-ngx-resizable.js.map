{"version":3,"file":"3dgenomes-ngx-resizable.js","sources":["ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.service.ts","ng://@3dgenomes/ngx-resizable/lib/window.service.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/resizable.component.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/drag.directive.ts","ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgxResizableService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nfunction getWindow(): any {\r\n  return window;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgxResizeableWindowRef {\r\n  get nativeWindow(): any {\r\n    return getWindow();\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Input, ElementRef, ViewEncapsulation, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { NgxResizeableWindowRef } from '../window.service';\r\n\r\n@Component({\r\n  selector: 'rsz-layout',\r\n  templateUrl: 'resizable.component.html',\r\n  styleUrls: ['resizable.component.scss'],\r\n  providers: [ { provide: 'Window', useValue: window } ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ResizableComponent implements OnInit, AfterViewInit {\r\n\r\n  @HostBinding('class.resizable') resizable = true;\r\n  @HostBinding('class.no-transition') noTransition = false;\r\n  @HostBinding('style.width') width;\r\n  @HostBinding('style.height') height;\r\n  @HostBinding('style.flex-basis') flexBasis;\r\n\r\n  @Input() directions;\r\n  @Input() rFlex = false;\r\n\r\n  @Output() resizeStart = new EventEmitter();\r\n  @Output() resizing = new EventEmitter();\r\n  @Output() resizeEnd = new EventEmitter();\r\n\r\n  private nativeElement;\r\n\r\n  private style;\r\n\r\n  private w;\r\n  private h;\r\n\r\n  private vx = 1;\r\n  private vy = 1;\r\n\r\n  private start;\r\n\r\n  private dragDir;\r\n\r\n  private axis;\r\n\r\n  private info = {};\r\n\r\n  constructor(private regionElement: ElementRef, private windowRef: NgxResizeableWindowRef) {\r\n    this.nativeElement = this.regionElement.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.rFlex) { this.resizable = false; } // Added to permit use of component for all cells\r\n    this.flexBasis = 'flexBasis' in this.nativeElement.style ? 'flexBasis' :\r\n      'webkitFlexBasis' in this.nativeElement.style ? 'webkitFlexBasis' :\r\n      'msFlexPreferredSize' in this.nativeElement.style ? 'msFlexPreferredSize' : 'flexBasis';\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.style = this.windowRef.nativeWindow.getComputedStyle(this.nativeElement);\r\n  }\r\n\r\n  private updateInfo(e) {\r\n    this.info['width'] = false; this.info['height'] = false;\r\n    if (this.axis === 'x') {\r\n      this.info['width'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'width'], 10);\r\n    } else {\r\n      this.info['height'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'height'], 10);\r\n    }\r\n    this.info['id'] = this.nativeElement.id;\r\n    this.info['evt'] = e;\r\n  }\r\n\r\n  public dragStart(e, direction) {\r\n    const mouseEvent = e.originalEvent;\r\n\r\n    this.dragDir = direction;\r\n    this.axis = (this.dragDir === 'left' || this.dragDir === 'right') ? 'x' : 'y';\r\n    this.start = (this.axis === 'x' ? mouseEvent.clientX : mouseEvent.clientY);\r\n    this.w = parseInt(this.style.getPropertyValue('width'), 10);\r\n    this.h = parseInt(this.style.getPropertyValue('height'), 10);\r\n\r\n    this.resizeStart.emit({ info: this.info });\r\n\r\n    // prevent transition while dragging\r\n    this.noTransition = true;\r\n  }\r\n\r\n  public dragEnd(e) {\r\n    const mouseEvent = e.originalEvent;\r\n\r\n    this.updateInfo(mouseEvent);\r\n    this.resizeEnd.emit({ info: this.info });\r\n    this.noTransition = false;\r\n  }\r\n\r\n  public dragging(e) {\r\n    const mouseEvent = e.originalEvent;\r\n    const offset = (this.axis === 'x') ? this.start - mouseEvent.clientX : this.start - mouseEvent.clientY;\r\n\r\n    let operand = 1;\r\n    switch (this.dragDir) {\r\n      case 'top':\r\n        operand = -1;\r\n        /* falls through */\r\n      case 'bottom':\r\n        const height = (this.h - offset * this.vy * operand) + 'px';\r\n        if (this.rFlex) {\r\n          this.flexBasis = height;\r\n        } else {\r\n          this.height = height;\r\n        }\r\n        break;\r\n      case 'left':\r\n        operand = -1;\r\n        /* falls through */\r\n      case 'right':\r\n        const width = (this.w - offset * this.vx * operand) + 'px';\r\n        if (this.rFlex) {\r\n          this.flexBasis = width;\r\n        } else {\r\n          this.width = width;\r\n        }\r\n        break;\r\n    }\r\n    this.updateInfo(mouseEvent);\r\n    this.resizing.emit({ info: this.info });\r\n  }\r\n}\r\n","import { Directive, Output, EventEmitter, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[rszDragHandle]'\r\n})\r\nexport class DragDirective {\r\n\r\n  @Output() DragStart = new EventEmitter();\r\n  @Output() Drag = new EventEmitter();\r\n  @Output() DragEnd = new EventEmitter();\r\n\r\n  private dragging = false;\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMousedown(event) {\r\n    if (event.which === 1) {\r\n      this.dragging = true;\r\n      this.DragStart.emit({ originalEvent: event });\r\n    }\r\n  }\r\n  @HostListener('document:mouseup', ['$event'])\r\n  onMouseup(event) {\r\n    if (this.dragging) {\r\n      this.DragEnd.emit({ originalEvent: event });\r\n    }\r\n    this.dragging = false;\r\n  }\r\n  @HostListener('document:mousemove', ['$event'])\r\n  onMousemove(event: MouseEvent) {\r\n    if (this.dragging) {\r\n      this.Drag.emit({ originalEvent: event });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ResizableComponent } from './resizable/resizable.component';\r\nimport { DragDirective } from './resizable/drag.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ResizableComponent,\r\n    DragDirective\r\n  ],\r\n  exports: [\r\n    ResizableComponent,\r\n    DragDirective\r\n  ]\r\n})\r\nexport class NgxResizableModule { }\r\n"],"names":[],"mappings":"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"}