{"version":3,"file":"3dgenomes-ngx-resizable.umd.js","sources":["ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.service.ts","ng://@3dgenomes/ngx-resizable/lib/window.service.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/resizable.component.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/drag.directive.ts","ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgxResizableService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nfunction getWindow(): any {\r\n  return window;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgxResizeableWindowRef {\r\n  get nativeWindow(): any {\r\n    return getWindow();\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Input, ElementRef, ViewEncapsulation, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { NgxResizeableWindowRef } from '../window.service';\r\n\r\n@Component({\r\n  selector: 'rsz-layout',\r\n  templateUrl: 'resizable.component.html',\r\n  styleUrls: ['resizable.component.scss'],\r\n  providers: [ { provide: 'Window', useValue: window } ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ResizableComponent implements OnInit, AfterViewInit {\r\n\r\n  @HostBinding('class.resizable') resizable = true;\r\n  @HostBinding('class.no-transition') noTransition = false;\r\n  @HostBinding('style.width') width;\r\n  @HostBinding('style.height') height;\r\n  @HostBinding('style.flex-basis') flexBasis;\r\n\r\n  @Input() directions;\r\n  @Input() rFlex = false;\r\n\r\n  @Output() resizeStart = new EventEmitter();\r\n  @Output() resizing = new EventEmitter();\r\n  @Output() resizeEnd = new EventEmitter();\r\n\r\n  private nativeElement;\r\n\r\n  private style;\r\n\r\n  private w;\r\n  private h;\r\n\r\n  private vx = 1;\r\n  private vy = 1;\r\n\r\n  private start;\r\n\r\n  private dragDir;\r\n\r\n  private axis;\r\n\r\n  private info = {};\r\n\r\n  constructor(private regionElement: ElementRef, private windowRef: NgxResizeableWindowRef) {\r\n    this.nativeElement = this.regionElement.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.rFlex) { this.resizable = false; } // Added to permit use of component for all cells\r\n    this.flexBasis = 'flexBasis' in this.nativeElement.style ? 'flexBasis' :\r\n      'webkitFlexBasis' in this.nativeElement.style ? 'webkitFlexBasis' :\r\n      'msFlexPreferredSize' in this.nativeElement.style ? 'msFlexPreferredSize' : 'flexBasis';\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.style = this.windowRef.nativeWindow.getComputedStyle(this.nativeElement);\r\n  }\r\n\r\n  private updateInfo(e) {\r\n    this.info['width'] = false; this.info['height'] = false;\r\n    if (this.axis === 'x') {\r\n      this.info['width'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'width'], 10);\r\n    } else {\r\n      this.info['height'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'height'], 10);\r\n    }\r\n    this.info['id'] = this.nativeElement.id;\r\n    this.info['evt'] = e;\r\n  }\r\n\r\n  public dragStart(e, direction) {\r\n    const mouseEvent = e.originalEvent;\r\n\r\n    this.dragDir = direction;\r\n    this.axis = (this.dragDir === 'left' || this.dragDir === 'right') ? 'x' : 'y';\r\n    this.start = (this.axis === 'x' ? mouseEvent.clientX : mouseEvent.clientY);\r\n    this.w = parseInt(this.style.getPropertyValue('width'), 10);\r\n    this.h = parseInt(this.style.getPropertyValue('height'), 10);\r\n\r\n    this.resizeStart.emit({ info: this.info });\r\n\r\n    // prevent transition while dragging\r\n    this.noTransition = true;\r\n  }\r\n\r\n  public dragEnd(e) {\r\n    const mouseEvent = e.originalEvent;\r\n\r\n    this.updateInfo(mouseEvent);\r\n    this.resizeEnd.emit({ info: this.info });\r\n    this.noTransition = false;\r\n  }\r\n\r\n  public dragging(e) {\r\n    const mouseEvent = e.originalEvent;\r\n    const offset = (this.axis === 'x') ? this.start - mouseEvent.clientX : this.start - mouseEvent.clientY;\r\n\r\n    let operand = 1;\r\n    switch (this.dragDir) {\r\n      case 'top':\r\n        operand = -1;\r\n        /* falls through */\r\n      case 'bottom':\r\n        const height = (this.h - offset * this.vy * operand) + 'px';\r\n        if (this.rFlex) {\r\n          this.flexBasis = height;\r\n        } else {\r\n          this.height = height;\r\n        }\r\n        break;\r\n      case 'left':\r\n        operand = -1;\r\n        /* falls through */\r\n      case 'right':\r\n        const width = (this.w - offset * this.vx * operand) + 'px';\r\n        if (this.rFlex) {\r\n          this.flexBasis = width;\r\n        } else {\r\n          this.width = width;\r\n        }\r\n        break;\r\n    }\r\n    this.updateInfo(mouseEvent);\r\n    this.resizing.emit({ info: this.info });\r\n  }\r\n}\r\n","import { Directive, Output, EventEmitter, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[rszDragHandle]'\r\n})\r\nexport class DragDirective {\r\n\r\n  @Output() DragStart = new EventEmitter();\r\n  @Output() Drag = new EventEmitter();\r\n  @Output() DragEnd = new EventEmitter();\r\n\r\n  private dragging = false;\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMousedown(event) {\r\n    if (event.which === 1) {\r\n      this.dragging = true;\r\n      this.DragStart.emit({ originalEvent: event });\r\n    }\r\n  }\r\n  @HostListener('document:mouseup', ['$event'])\r\n  onMouseup(event) {\r\n    if (this.dragging) {\r\n      this.DragEnd.emit({ originalEvent: event });\r\n    }\r\n    this.dragging = false;\r\n  }\r\n  @HostListener('document:mousemove', ['$event'])\r\n  onMousemove(event: MouseEvent) {\r\n    if (this.dragging) {\r\n      this.Drag.emit({ originalEvent: event });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ResizableComponent } from './resizable/resizable.component';\r\nimport { DragDirective } from './resizable/drag.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ResizableComponent,\r\n    DragDirective\r\n  ],\r\n  exports: [\r\n    ResizableComponent,\r\n    DragDirective\r\n  ]\r\n})\r\nexport class NgxResizableModule { }\r\n"],"names":["Injectable","EventEmitter","Component","ViewEncapsulation","ElementRef","HostBinding","Input","Output","Directive","HostListener","NgModule","CommonModule"],"mappings":"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"}